name = "compliancehub-api"
main = "src/standalone.ts"
compatibility_date = "2025-10-06"
# Используем новый nodejs_compat вместо node_compat
compatibility_flags = ["nodejs_compat"]

# KV namespaces - будут созданы автоматически при первом deploy
# После создания замените на реальные ID
# kv_namespaces = [
#   { binding = "KV_QUOTA", id = "your-kv-quota-id", preview_id = "your-kv-quota-preview-id" }
# ]

# Environment variables
[vars]
API_VERSION = "2025-10-06"
MAX_FILE_SIZE = "5242880"  # 5MB
FREE_QUOTA_DAILY = "100"

# Production environment
[env.production]
name = "compliancehub-api"
# kv_namespaces = [
#   { binding = "KV_QUOTA", id = "production-kv-quota-id" }
# ]

# Staging environment  
[env.staging]
name = "compliancehub-api-staging"
# kv_namespaces = [
#   { binding = "KV_QUOTA", id = "staging-kv-quota-id" }
# ]